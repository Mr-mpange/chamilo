# Chamilo LMS Configuration
# Fix upload limits and security settings

# Increase upload limits
php_value upload_max_filesize 20M
php_value post_max_size 20M
php_value max_execution_time 300
php_value max_input_time 300

# Security settings
php_value session.cookie_httponly 1
php_value session.cookie_secure 0
php_value session.use_strict_mode 1

# Enable mod_rewrite
RewriteEngine On

# Protect sensitive files
<Files "*.ini">
    Order allow,deny
    Deny from all
</Files>

<Files "*.log">
    Order allow,deny
    Deny from all
</Files>

# Course directory protection
<IfModule mod_rewrite.c>
    RewriteRule ^courses/(.*)/(.*\.html?)$ courses/$1/$2 [L]
</IfModule>

# Allow course test files
<LocationMatch "^/courses/__XxTestxX__/">
    Allow from all
</LocationMatch>